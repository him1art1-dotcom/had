<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>حاضر | تسجيل الدخول</title>
  <link rel="stylesheet" href="css/login.css">
</head>
<body>
  <main class="center">
    <section class="panel" aria-labelledby="panel-title">
      <header class="panel__header">
        <h1 id="panel-title" class="brand">حاضر <span class="sep">|</span> الدخول</h1>
      </header>

      <!-- Tabs -->
      <div class="tabs" role="tablist" aria-label="أنواع الدخول">
        <button id="tab-school" class="tab is-active" role="tab" aria-selected="true" aria-controls="panel-school">دخول المدرسة</button>
        <button id="tab-admin"  class="tab" role="tab" aria-selected="false" aria-controls="panel-admin">المشرف العام</button>
      </div>

      <!-- School form -->
      <section id="panel-school" class="tab-panel is-active" role="tabpanel" aria-labelledby="tab-school">
        <form id="school-form" novalidate>
          <label for="school_code">معرّف المدرسة</label>
          <input id="school_code" name="school_code" type="text" inputmode="latin" autocomplete="username" placeholder="مثال: demo" required>

          <label for="school_password">كلمة المرور</label>
          <input id="school_password" name="school_password" type="password" autocomplete="current-password" placeholder="ستكون نفس المعرّف تلقائيًا" required>

          <button id="school-submit" class="btn" type="submit">دخول</button>
          <p class="status" data-status="school" aria-live="polite"></p>
        </form>
      </section>

      <!-- Admin SUPER form -->
      <section id="panel-admin" class="tab-panel" role="tabpanel" aria-labelledby="tab-admin" hidden>
        <form id="admin-form" novalidate>
          <label for="admin_identifier">المعرّف</label>
          <input id="admin_identifier" name="admin_identifier" type="text" inputmode="latin" autocomplete="username" placeholder="ADMIN_SUPER" value="ADMIN_SUPER" required>

          <label for="admin_password">كلمة المرور</label>
          <input id="admin_password" name="admin_password" type="password" autocomplete="current-password" placeholder="ستكون نفس المعرّف تلقائيًا" required>

          <button id="admin-submit" class="btn" type="submit">دخول المشرف العام</button>
          <p class="status" data-status="admin" aria-live="polite"></p>
        </form>
      </section>

      <footer class="panel__footer note">
        <small>تلميح: كلمة المرور = نفس المعرّف (سيتم تعبئتها تلقائيًا). يمكنك تغيير السياسة لاحقًا من لوحة Supabase.</small>
      </footer>
    </section>
  </main>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script type="module" src="js/supabase-client.js"></script>
  <script type="module" src="js/login.js"></script>
</body>
</html>
